# ุฅุนุฏุงุฏ reCAPTCHA ูู Firebase Phone Authentication

## ๐จ ุงููุดููุฉ ุงูุญุงููุฉ
```
Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.
โ Verification failed: The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.
```

## ๐ง ุงูุญููู ุงููุทุจูุฉ

### 1. โ ุชุญุฏูุซ `web/index.html`
- ุชุบููุฑ reCAPTCHA ูู `normal` ุฅูู `invisible`
- ุฅุถุงูุฉ ุฏุงูุฉ ุฅุนุงุฏุฉ ุชููุฆุฉ reCAPTCHA
- ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 2. โ ุชุญุฏูุซ `otp_login_controller.dart`
- ุฅุถุงูุฉ ูุนุงูุฌุฉ ุฎุงุตุฉ ูุฃุฎุทุงุก reCAPTCHA
- ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ
- ุฅุถุงูุฉ ุฃููุงุฏ ุฎุทุฃ ุฌุฏูุฏุฉ

## ๐๏ธ ุฎุทูุงุช ุฅุนุฏุงุฏ Firebase Console

### 1. ุชูุนูู Phone Authentication
1. ุงุฐูุจ ุฅูู [Firebase Console](https://console.firebase.google.com/)
2. ุงุฎุชุฑ ูุดุฑูุน `brothers-creative`
3. ุงุฐูุจ ุฅูู **Authentication** > **Sign-in method**
4. ูุนูู **Phone** provider
5. ุฃุถู ุฑูู ูุงุชู ููุงุฎุชุจุงุฑ ูู **Test phone numbers**

### 2. ุฅุนุฏุงุฏ reCAPTCHA
1. ุงุฐูุจ ุฅูู **Authentication** > **Settings** > **Authorized domains**
2. ุฃุถู ุงููุทุงูุงุช ุงูุชุงููุฉ:
   - `localhost` (ููุงุฎุชุจุงุฑ ุงููุญูู)
   - `brothers-creative.firebaseapp.com`
   - `brothers-creative.web.app`
   - ุฃู ูุทุงู ุขุฎุฑ ุชุณุชุฎุฏูู

### 3. ุฅุนุฏุงุฏ App Check (ุงุฎุชูุงุฑู)
1. ุงุฐูุจ ุฅูู **App Check**
2. ูุนูู **App Check** ูุญูุงูุฉ ุฃูุถู
3. ุฃุถู **reCAPTCHA Enterprise** ููููุจ

### 4. ุฅุนุฏุงุฏ Quotas
1. ุงุฐูุจ ุฅูู **Authentication** > **Usage**
2. ุงุถุจุท **SMS daily quota** ุญุณุจ ุงุญุชูุงุฌุงุชู
3. ุงูุงูุชุฑุงุถู: 10,000 ุฑุณุงูุฉ ููููุงู

## ๐ ุงุฎุชุจุงุฑ ุงูุญู

### 1. ุงุฎุชุจุงุฑ ูุญูู
```bash
# ุชุดุบูู ุงูุชุทุจูู ูุญููุงู
flutter run -d chrome

# ุฃู
flutter run -d web-server --web-port 3000
```

### 2. ุงุฎุชุจุงุฑ OTP
1. ุงุฐูุจ ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
2. ุงุฎุชุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุฑูู ุงููุงุชู"
3. ุฃุฏุฎู ุฑูู ูุงุชู ูุตุฑุญ ูู
4. ุงุถุบุท "ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู"
5. ุชุญูู ูู ุธููุฑ reCAPTCHA (invisible)
6. ุฃุฏุฎู ุฑูุฒ ุงูุชุญูู ุงููุฑุณู

### 3. ุฃุฑูุงู ุงูุงุฎุชุจุงุฑ
```
ุฑูู ุงููุงุชู: +966501234567
ุฑูุฒ ุงูุชุญูู: 123456
```

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### 1. ุฃุฎุทุงุก reCAPTCHA
```
invalid-app-credential: ุฎุทุฃ ูู ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
invalid-recaptcha-token: ุฎุทุฃ ูู reCAPTCHA token
missing-recaptcha-token: ููููุฏ reCAPTCHA token
```

### 2. ุญููู
- ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงููุทุงู ูู **Authorized domains**
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช reCAPTCHA ูู Firebase Console
- ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ ุฅุฐุง ูุดู reCAPTCHA
- ุชุฃูุฏ ูู ุชูุนูู Phone Authentication

### 3. ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุฌุฏูุฏุฉ
- `ุฎุทุฃ ูู reCAPTCHA. ูุฑุฌู ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ูุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.`
- `ุฎุทุฃ ูู ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู. ูุฑุฌู ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ`
- `ููููุฏ reCAPTCHA token. ูุฑุฌู ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ`

## ๐ฑ ุงูููุฒุงุช ุงููุถุงูุฉ

### 1. reCAPTCHA Invisible
- ูุง ูุธูุฑ ูููุณุชุฎุฏู ุฅูุง ุนูุฏ ุงูุญุงุฌุฉ
- ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก

### 2. ุฅุนุงุฏุฉ ุชููุฆุฉ reCAPTCHA
- ุฏุงูุฉ `window.resetRecaptcha()` ูุชุงุญุฉ
- ุฅุนุงุฏุฉ ุชููุฆุฉ ุชููุงุฆูุฉ ุนูุฏ ุงูุชูุงุก ุงูุตูุงุญูุฉ
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุชุญููู

### 3. ุฑุณุงุฆู ุฎุทุฃ ูุญุณูุฉ
- ุฑุณุงุฆู ูุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ุฅุฑุดุงุฏุงุช ูููุณุชุฎุฏู
- ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### 1. ุงุฎุชุจุงุฑ ุงูุชุทุจูู
- [ ] ุงุฎุชุจุงุฑ ุฃุฑูุงู ุงูุงุฎุชุจุงุฑ
- [ ] ุงุฎุชุจุงุฑ ุฃุฑูุงู ุญููููุฉ
- [ ] ุงุฎุชุจุงุฑ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- [ ] ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก

### 2. ุงููุดุฑ
- [ ] ุฅุนุฏุงุฏ Production
- [ ] ุถุจุท Security Rules
- [ ] ูุฑุงูุจุฉ ุงูุงุณุชุฎุฏุงู
- [ ] ุชุญุณูู ุงูุฃุฏุงุก

## ๐ ุงูุฏุนู

- ๐ [Firebase Phone Auth Documentation](https://firebase.google.com/docs/auth/flutter/phone)
- ๐ง [Firebase Console](https://console.firebase.google.com/)
- ๐ [FlutterFire Documentation](https://firebase.flutter.dev/)
- ๐ [Report Issues](https://github.com/your-repo/issues)

## โ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุชุทุจูู ูุฐู ุงูุญูููุ ูุฌุจ ุฃู ูุนูู OTP ุจุดูู ุตุญูุญ ูุน:
- โ reCAPTCHA invisible ูุนูู ุจุดูู ุตุญูุญ
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ
